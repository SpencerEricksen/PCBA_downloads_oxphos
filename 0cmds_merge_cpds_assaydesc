import pandas as pd
import numpy as np

# load cpd data 
df1 = pd.read_csv('all_oxphos_aids_cids_fps_terms_bctarg.csv')
df1.drop( columns=['Unnamed: 0'], inplace=True )


# load assay description data
df2 = pd.read_csv('../assay_descriptions/all_assays_desc.csv', sep="|")

# merge assay descriptions with cpd data on the 'AID' column 
df3 = df2.merge( df1, how='right', on='AID' )

# dump to CSV, use '|' as delimiter to avoid issues with commas in assay abstracts
df3.to_csv('ultimate_oxphos_pcassay_dataset.csv', sep='|', index=False)

